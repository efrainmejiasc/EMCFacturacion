@using FacturacionEMCSite.StringResources;

@{ 
  <script src="~/lib/jquery/dist/jquery.min.js"></script>
}

<nav class="sidebar sidebar-offcanvas" id="sidebar">
    <ul class="nav nav-height">
        <li class="nav-item nav-profile border-bottom">
            <a href="#" class="nav-link flex-column">
                <div class="nav-profile-image">
                    <img src="~/Content/img/logo-e.png" alt="profile">
                    <!--change to offline or busy as needed-->
                </div>
                <div class="nav-profile-text d-flex ms-0 mb-3 flex-column">
                     <span class="font-weight-semibold mb-1 mt-2 text-center" style="font-size:14px;" id="nombreUsuario"> </span>
                    <span class="text-secondary icon-sm text-center" style="font-size:14px;" id="emailUsuario"> </span>
                </div>
            </a>
        </li>

        <li class="pt-2 pb-1 text-center">
            <span class="nav-item-head">Principal</span>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="@Url.Action("Index","Home")">
                <i class="mdi mdi-file-check menu-icon"></i>
                <span class="menu-title"> @Resources.LogOut </span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="@Url.Action("Index","Usuario")">
                <i class="mdi mdi-file-check menu-icon"></i>
                <span class="menu-title"> @Resources.Users</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="@Url.Action("About","Home")">
                <i class="mdi mdi-exponent-box menu-icon"></i>
                <span class="menu-title"> @Resources.Dashboard </span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="@Url.Action("Index","FacturaVenta")">
                <i class="fa fa-group menu-icon"></i>
                <span class="menu-title"> @Resources.SalesRecord </span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="@Url.Action("Index","FacturaCompra")">
                <i class="fa fa-user-circle menu-icon"></i>
                <span class="menu-title">@Resources.PurchasesRecord</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="@Url.Action("About","FacturaVenta")">
                <i class="mdi mdi-account-key"></i>
                <span class="menu-title"> @Resources.SalesSummary </span>
            </a>
        </li>

         <li class="nav-item">
            <a class="nav-link" href="@Url.Action("About","FacturaCompra")">
                <i class="mdi mdi-account-key"></i>
                <span class="menu-title"> @Resources.PurchasesSummary </span>
            </a>
        </li>

         <li class="nav-item">
            <a class="nav-link" href="@Url.Action("Index","Inventario")">
                <i class="mdi mdi-account-key"></i>
                <span class="menu-title"> @Resources.Stock </span>
            </a>
        </li>

         <li class="nav-item">
            <a class="nav-link" href="@Url.Action("About","Inventario")">
                <i class="mdi mdi-account-key"></i>
                <span class="menu-title"> @Resources.Assignments </span>
            </a>
        </li>

         <li class="nav-item">
            <a class="nav-link" href="@Url.Action("Index","InicioFacturacion")">
                <i class="mdi mdi-account-key"></i>
                <span class="menu-title"> @Resources.HomeBilling</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="@Url.Action("Index","ProductoManager")">
                <i class="mdi mdi-account-key"></i>
                <span class="menu-title">@Resources.ManagerProducts </span>
            </a>
        </li>
    </ul>
</nav>
<script>

    var urlGetCultureInfo = '@Url.Action("GetCultureInfo","Empresa")';

 $(document).ready(function () {
    console.log("ready layout!");
            GetCultureInfo();
    setTimeout(GetUsuarioLogeado,1000);
});

    
    function GetCultureInfo() {

        $.ajax({
            type: "GET",
            url: urlGetCultureInfo,
            datatype: "json",
            success: function (data) {
                $('#cultureInfo').val(data);
            }
        });

        return false;
    }


    function GetUsuarioLogeado() {

        var urlGetUsuarioLogeado = '@Url.Action("GetUsuarioLogger","Usuario")';
    $.ajax({
        type: "GET",
        url: urlGetUsuarioLogeado,
        datatype: "json",
        success: function (data) {
            $('#nombreUsuario').html(data.nombre);
            $('#emailUsuario').html(data.email);
        }
    });
    return false;
}

</script>

